{"version":3,"sources":["reducers/user.js","reducers/projects.js","reducers/index.js","localStorage.js","api.js","actions/index.js","components/navbar.js","components/LoginPage.js","components/ProjectList.js","components/ProjectModal.js","components/admin/dashboard.js","router.js","index.js"],"names":["loggedinReducer","state","isLoggedIn","isAdmin","action","type","console","log","payload","user","token","role","initalState","query","isFetching","data","items","error","movieReducers","allReducers","combineReducers","userReducer","projects","projectsReducers","loadState","serializedState","localStorage","getItem","JSON","parse","err","axios_instance","axios","create","baseURL","timeout","execute","method","url","obj","headers","params","then","res","catch","e","Promise","reject","get","URL","post","receiveProjects","getProjects","page","parseInt","dispatch","response","connect","props","class","href","login","from","useLocation","pathname","to","className","onSubmit","preventDefault","FormData","target","Object","fromEntries","for","name","ProjectUnit","project","users","length","_id","fetchProjects","openModal","useEffect","docs","style","float","onClick","map","Modal","show","onHide","handleClose","Header","closeButton","Title","id","Body","a","async","projectdata","createdBy","put","multiple","onChange","value","options","i","l","selected","push","Button","variant","useState","setProject","setShow","setUsers","fetchUsers","fakeAuth","isAuthenticated","authenticate","cb","setTimeout","signout","PrivateRoute","children","rest","render","location","ProtectedPage","exact","path","persistedState","store","createStore","compose","applyMiddleware","thunk","window","__REDUX_DEVTOOLS_EXTENSION__","subscribe","stringify","setItem","saveState","getState","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.589d4138.chunk.js","sourcesContent":["const loggedinReducer = (state = { isLoggedIn: false, isAdmin :false}, action) => {\n  switch (action.type) {\n    case \"LOGIN\":\n      console.log('loginss',action.payload)\n      return {\n        isLoggedIn: true,\n        user: action.payload.user,\n        token: action.payload.token,\n        isAdmin:action.payload.user.role === 'admin'\n      };\n    case \"LOGOUT\":\n      return {isLoggedIn:true}\n    default:\n      return state;\n  }\n};\nexport default loggedinReducer;\n","const initalState = {\n  query: \"\",\n  isFetching: false,\n  data: { items: [] },\n  error: \"\"\n};\nconst movieReducers = (state = initalState, action) => {\n  // if (!action.search) return state;\n  switch (action.type) {\n    case \"RECEIVE_PROJECTS\":\n      return { ...state, data: action.payload, isFetching: false };\n    case \"SEARCH_MOVIE\":\n      return { ...state, isFetching: true, query: action.query };\n    default:\n      return state;\n  }\n};\nexport default movieReducers;\n","import { combineReducers } from \"redux\";\nimport counterReducers from \"./counter\";\nimport userReducer from \"./user\";\nimport projectsReducers from \"./projects\";\nconst allReducers = combineReducers({\n  // counter: counterReducers,\n  user: userReducer,\n  // movies: movieReducers\n  projects: projectsReducers\n});\nexport default allReducers;\n","export const loadState = () => {\n  try {\n    const serializedState = localStorage.getItem(\"state\");\n    if (serializedState === null) {\n      return undefined;\n    }\n    return JSON.parse(serializedState);\n  } catch (err) {\n    return undefined;\n  }\n};\n\nexport const saveState = state => {\n  try {\n    const serializedState = JSON.stringify(state);\n    localStorage.setItem(\"state\", serializedState);\n  } catch {\n    // ignore write errors\n  }\n};","import axios from \"axios\";\nimport { loadState } from \"./localStorage\";\nconst API_ENDPOINT = \"http://localhost:8081\";\n\nvar axios_instance = axios.create({\n  baseURL: API_ENDPOINT,\n  timeout: 1000\n});\n\n\nconst execute = (method, url, data) => {\n  let obj = {\n    method,\n    url,\n    data,\n    headers: {\n      \"x-access-token\": loadState()?loadState().user.token:''\n    }\n  };\n  if (method === \"get\" && data) {\n    obj = { ...obj, params: data };\n  }\n  console.log(\"obj\", obj);\n  return axios_instance(    )\n    .then(res => {\n      //   console.log(\"data\", res.data);\n      return res.data;\n    })\n    .catch(e => {\n      return Promise.reject(e);\n    });\n};\n\nlet obj = {\n  get(URL, query) {\n    // console.log(\"endpoint\", endpoint);\n    return execute(\"get\", URL, query);\n  },\n  post(URL, data) {\n    return execute(\"post\",URL, data);\n  },\n};\nexport default obj;\n","import axios_instance from \"../api\";\n\nexport const login = payload => {\n  console.log(\"login\", payload);\n\n  return function(dispatch) {\n    console.log(\"hi\");\n    return axios_instance\n      .post(\"/authenticate\", payload)\n      .then(res => {\n        console.log(\"abc\", res);\n        dispatch({ type: \"LOGIN\", payload: res });\n\n        // dispatch({ type: \"LOGOUT\" });\n      })\n      .catch(e => {});\n  };\n};\n\nexport const receiveProjects = payload => {\n  console.log(\"payload\", payload);\n  return {\n    type: \"RECEIVE_PROJECTS\",\n    payload\n  };\n};\n\nexport const getProjects = (query, page = 1) => {\n  console.log(\"query\", query);\n  let startIndex = 10 * parseInt(page) - 10;\n  // We can invert control here by returning a function - the \"thunk\".\n  // When this function is passed to `dispatch`, the thunk middleware will intercept it,\n  // and call it with `dispatch` and `getState` as arguments.\n  // This gives the thunk function the ability to run some logic, and still interact with the store.\n\n  return function(dispatch) {\n    console.log(\"hi\");\n\n    return axios_instance\n      .get(\"/projects\")\n      .then(response => {\n        dispatch(receiveProjects(response));\n      })\n      .catch(error => {});\n  };\n};\n","import React from \"react\";\nimport { useDispatch, useSelector, connect } from \"react-redux\";\nimport { login, logout } from \"../actions\";\nconst NavBar = function(props) {\n  \n  if(props.isLoggedIn){\n    return (\n      <nav class=\"navbar navbar-dark\">\n        <div class=\"container-fluid\">\n          <div class=\"navbar-header\">\n            <a class=\"navbar-brand\" href=\"#\">\n              Project Todo\n            </a>\n          </div>\n          \n        </div>\n      </nav>\n    );\n  }\n  return <div></div>;\n};\nconst mapStateToProps = state => {\n  return {\n    isLoggedIn: state.user.isLoggedIn,\n    user: state.user.user\n  };\n};\nexport default connect(mapStateToProps)(NavBar);\n","import React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { useLocation, Redirect } from \"react-router-dom\";\nimport { login } from \"../actions/index\";\nfunction LoginPage(props) {\n  let location = useLocation();\n//    let [isLoggedin,setLoggedin] = useState(props.isLoggedin)\nlet { from } = location.state || { from: { pathname: \"/\" } };\n  let authenticate = e => {\n    e.preventDefault();\n    console.log('data')\n    const data = new FormData(e.target);\n    console.log(data)\n    props.login(Object.fromEntries(data));\n  };\n  console.log(\"props\", props.isLoggedIn);\n//   useEffect(() => {\n//     console.log(\"hiac\", props.isLoggedIn);\n//     setLoggedin(props.isLoggedIn);\n//   }, [props.isLoggedIn]);\n  if (props.isLoggedIn) {\n    return (\n      <Redirect\n        to={{\n          pathname: props.isAdmin?'/admin': \"/projects\",\n          state: { from }\n        }}\n      />\n    );\n  }\n  return (\n    <div className=\"row\">\n      <div className=\"col-sm-8 col-xs-12\"></div>\n      <div className=\"col-xs-12 col-sm-4\">\n        <form onSubmit={authenticate}>\n          <div class=\"form-group\">\n            <label for=\"email\">Email address:</label>\n            <input type=\"email\" class=\"form-control\" name='email' />\n          </div>\n          <div class=\"form-group\">\n            <label for=\"pwd\">Password:</label>\n            <input type=\"password\" class=\"form-control\"  name='password'/>\n          </div>\n\n          <button type=\"submit\" class=\"btn btn-info\">\n            Login\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\nconst fakeAuth = {\n  isAuthenticated: false,\n  authenticate(cb) {\n    fakeAuth.isAuthenticated = true;\n    setTimeout(cb, 100); // fake async\n  },\n  signout(cb) {\n    fakeAuth.isAuthenticated = false;\n    setTimeout(cb, 100);\n  }\n};\nconst mapStateToProps = (state, props) => {\n    console.log('stated',state.user)\n  return {\n    isLoggedIn: state.user.isLoggedIn,\n    isAdmin:state.user.isAdmin\n  };\n};\nconst mapDisptachToProps = dispatch => {\n  return {\n    login:(payload)=>dispatch(login(payload))\n  };\n};\nexport default connect(mapStateToProps, mapDisptachToProps)(LoginPage);\n","import React, { useEffect } from \"react\";\nimport { BulletList, Facebook } from \"react-content-loader\";\nimport { connect } from \"react-redux\";\nimport { getProjects } from \"../actions/index\";\nimport {Link} from 'react-router-dom'\nfunction ProjectUnit({ project }) {\n  return (\n    <div className=\"col-sm-4\">\n      <div className=\"card\">\n        <h5>{project.name}</h5>\n\n        Developers: {project.users.length}\n        <Link to={\"/project/\" + project._id}>view</Link>\n      </div>\n    </div>\n  );\n}\nfunction ProjectList({ projects, fetchProjects,openModal }) {\n  console.log(\"projects\", projects);\n  useEffect(() => {\n    fetchProjects();\n  }, []);\n  if (!projects.docs) {\n    return <div />;\n  }\n\n  return (\n    <div>\n      <div>\n        <h4>My Projects</h4>\n        <button class='btn btn-info btn-sm' style={{float:'right'}} onClick={e=>openModal()}>Create Project</button>\n      </div>\n      <div className=\"row project-list\">\n        {projects.docs.map(project => (\n          <ProjectUnit project={project} />\n        ))}\n      </div>\n    </div>\n  );\n}\nconst mapStateToProps = state => {\n  let projects = state.projects;\n  return {\n    projects: projects.data\n  };\n};\nconst mapDisptachToProps = dispatch => {\n  return {\n    fetchProjects: () => dispatch(getProjects())\n  };\n};\nexport default connect(mapStateToProps, mapDisptachToProps)(ProjectList);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport { getProjects } from \"../actions/index\";\nimport axios_instance from \"../api\";\nfunction ProjectModal(props) {\n  const { project = {} } = props;\n  console.log('user',props.user)\n  let users = [];\n  async function createProject(e) {\n    e.preventDefault();\n    console.log(\"data\");\n    const data = new FormData(e.target);\n    console.log(Object.fromEntries(data));\n    let projectdata = Object.fromEntries(data);\n    projectdata = { ...projectdata, users, createdBy: props.user._id };\n    console.log(\"projectdata\", projectdata);\n    if (project._id) {\n      await axios_instance.put(\"/projects/\" + project._id, projectdata);\n    } else {\n      await axios_instance.post(\"/projects/\", projectdata);\n    }\n    props.getProjects()\n  }\n  function handleInputChange(e) {\n    if (e.target.name) console.log(e.target.value);\n    var options = e.target.options;\n    var value = [];\n    for (var i = 0, l = options.length; i < l; i++) {\n      if (options[i].selected) {\n        value.push(options[i].value);\n      }\n    }\n    users = value\n    console.log(value);\n  }\n  return (\n    <>\n      <Modal show={props.show} onHide={props.handleClose}>\n        <Modal.Header closeButton>\n          <Modal.Title>\n            {project.id ? \"Edit \" + project.name : \"New\"}{\" \"}\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <form class=\"form-horizontal\" onSubmit={createProject}>\n            <div class=\"form-group\">\n              <label for=\"email\">Name</label>\n              <input type=\"text\" class=\"form-control\" name=\"name\" />\n            </div>\n            <div class=\"form-group\">\n              <label for=\"pwd\">Developers:</label>\n              <select\n                className=\"form-control\"\n                multiple\n                name=\"users\"\n                onChange={handleInputChange}\n              >\n                {props.users.map(user => (\n                  <option value={user._id}>{user.name}</option>\n                ))}\n              </select>\n            </div>\n            <Button variant=\"secondary\" onClick={props.handleClose}>\n              Close\n            </Button>\n            <input\n              type=\"submit\"\n              className=\"btn btn-info\"\n              value=\"Submit\"\n            ></input>\n          </form>\n        </Modal.Body>\n      </Modal>\n    </>\n  );\n}\nconst mapStateToProps = state => {\n  return {\n    user: state.user.user\n  };\n  //user:state.user.user\n};\nexport default connect(mapStateToProps, { getProjects })(ProjectModal);\n","import React,{useState, useEffect} from \"react\";\nimport { connect } from \"react-redux\";\nimport ProjectList from \"../ProjectList\";\nimport ProjectModal from \"../ProjectModal\";\nimport axios_instance from '../../api'\n\nfunction AdminDashboard(props) {\n  let [project, setProject] = useState({});\n  let [show, setShow] = useState(false);\n  let [users,setUsers] = useState([])\n  function handleSetProject(project) {\n    setProject(project);\n    setShow(true);\n  }\n  function handleClose(){\n      setShow(false)\n  }\n  async function fetchUsers(){\n      let res = await  axios_instance.get('/users')\n      console.log('users',res.docs)\n      setUsers(res.docs)\n  }\n  useEffect(()=>{\n    fetchUsers()\n  },[])\n  return (\n    <div>\n      <ProjectModal project={project} show={show} handleClose={handleClose} users={users}/>\n      <ProjectList openModal={handleSetProject} />\n      {/* <Pagination/> */}\n    </div>\n  );\n}\nconst mapStateToProps = (state, props) => {\n  return {\n    projects: state.projects\n  };\n};\nexport default connect(mapStateToProps)(AdminDashboard);\n","import React from \"react\";\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n  Link,\n  Redirect,\n  useHistory,\n  useLocation\n} from \"react-router-dom\";\nimport LoginPage from './components/LoginPage'\nimport AminDashboard from './components/admin/dashboard'\nimport { connect } from \"react-redux\";\n\n// This example has 3 pages: a public page, a protected\n// page, and a login screen. In order to see the protected\n// page, you must first login. Pretty standard stuff.\n//\n// First, visit the public page. Then, visit the protected\n// page. You're not yet logged in, so you are redirected\n// to the login page. After you login, you are redirected\n// back to the protected page.\n//\n// Notice the URL change each time. If you click the back\n// button at this point, would you expect to go back to the\n// login page? No! You're already logged in. Try it out,\n// and you'll see you go back to the page you visited\n// just *before* logging in, the public page.\n\nconst AuthExample =  function AuthExample(props) {\n  return (\n    <Router>\n      <div>\n        \n        <Switch>\n          <PrivateRoute exact path=\"/\">\n            <ProtectedPage />\n          </PrivateRoute>\n          <Route path=\"/login\">\n            <LoginPage />\n          </Route>\n          <PrivateRoute path=\"/protected\">\n            <ProtectedPage />\n          </PrivateRoute>\n          <Route\n            \n            path='/admin'\n            render={({ location }) =>\n              props.isLoggedIn && props.isAdmin ? (\n                <AminDashboard></AminDashboard>\n              ) : (\n                <Redirect\n                  to={{\n                    pathname: \"/login\",\n                    state: { from: location }\n                  }}\n                />\n              )\n            }\n          />\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nconst fakeAuth = {\n  isAuthenticated: false,\n  authenticate(cb) {\n    fakeAuth.isAuthenticated = true;\n    setTimeout(cb, 100); // fake async\n  },\n  signout(cb) {\n    fakeAuth.isAuthenticated = false;\n    setTimeout(cb, 100);\n  }\n};\n\nfunction AuthButton() {\n  let history = useHistory();\n\n  return fakeAuth.isAuthenticated ? (\n    <p>\n      Welcome!{\" \"}\n      <button\n        onClick={() => {\n          fakeAuth.signout(() => history.push(\"/\"));\n        }}\n      >\n        Sign out\n      </button>\n    </p>\n  ) : (\n    <p>You are not logged in.</p>\n  );\n}\n\n// A wrapper for <Route> that redirects to the login\n// screen if you're not yet authenticated.\n\nfunction PrivateRoute({ children, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={({ location }) =>\n        fakeAuth.isAuthenticated ? (\n          children\n        ) : (\n          <Redirect\n            to={{\n              pathname: \"/login\",\n              state: { from: location }\n            }}\n          />\n        )\n      }\n    />\n  );\n}\n\nfunction PublicPage() {\n  return <h3>Public</h3>;\n}\n\nfunction ProtectedPage() {\n  return <h3>Protected</h3>;\n}\nconst mapStateToProps = (state,props)=>{\n    return {\n        isLoggedIn:state.user.isLoggedIn,\n        isAdmin:state.user.isAdmin\n    }\n}\nexport default connect(mapStateToProps)(AuthExample)\n// function LoginPage() {\n//   let history = useHistory();\n//   let location = useLocation();\n\n//   let { from } = location.state || { from: { pathname: \"/\" } };\n//   let login = () => {\n//     fakeAuth.authenticate(() => {\n//       history.replace(from);\n//     });\n//   };\n\n//   return (\n//     <div>\n//       <p>You must log in to view the page at {from.pathname}</p>\n//       <button onClick={login}>Log in</button>\n//     </div>\n//   );\n// }\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { createStore, applyMiddleware, compose } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport allReducers from \"./reducers\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport thunk from \"redux-thunk\";\n//Components\nimport './styles.css'\nimport NavBar from \"./components/navbar\";\nimport Router from './router'\nimport {loadState,saveState} from './localStorage'\nfunction App() {\n  return (\n    <div className=\"container\">\n      <NavBar />\n      <Router />\n      <div className=\"row\">{/* <MovieSearch />\n        <Pagination /> */}</div>\n    </div>\n  );\n}\n\n// const createStoreWithMiddleware = applyMiddleware(thunk)(createStore);\n// const store = createStoreWithMiddleware(\n//   allReducers,\n//   window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n// );\n\nconst persistedState = loadState();\n\n\nlet store = createStore(\n  allReducers,\n  // applyMiddleware(thunk),\n  persistedState,\n  compose(\n    applyMiddleware(thunk),\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n  )\n);\nstore.subscribe(() => {\n  saveState(store.getState());\n});\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}